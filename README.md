# philo

## 概要

`philo`は、コンピュータサイエンスにおける古典的な同期問題である「食事する哲学者の問題」を、マルチスレッドを用いてシミュレーションするプログラムです。

各哲学者は、食べる、考える、寝るという行動を繰り返します。哲学者は、食事をするために2本のフォークを必要とします。フォークは哲学者の間に1本ずつ置かれており、隣の哲学者と共有されます。デッドロックや飢餓状態に陥ることなく、シミュレーションを続けることがこの問題の目的です。

## 要件

このプロジェクトは、C言語で書かれており、`pthreads`ライブラリを使用しています。

## コンパイル

プロジェクトをコンパイルするには、リポジトリのルートディレクトリで`make`コマンドを実行してください。

```bash
make
```

これにより、`philo`という名前の実行ファイルが生成されます。

## 実行方法

実行ファイル`philo`は、以下の引数を取ります。

```bash
./philo [number_of_philosophers] [time_to_die] [time_to_eat] [time_to_sleep] [number_of_times_each_philosopher_must_eat]
```

- `number_of_philosophers`: 哲学者の数。
- `time_to_die` (ミリ秒): 哲学者が食事をしてから死ぬまでの時間。この時間内に食事をしないと、哲学者は死んでしまいます。
- `time_to_eat` (ミリ秒): 哲学者が食事をするのにかかる時間。
- `time_to_sleep` (ミリ秒): 哲学者が寝るのにかかる時間。
- `number_of_times_each_philosopher_must_eat` (任意): 各哲学者が食事をしなければならない回数。この回数だけ食事が終わると、シミュレーションは終了します。指定しない場合は、哲学者が死ぬまでシミュレーションが続きます。

### 実行例

```bash
# 5人の哲学者のシミュレーション。哲学者は800ms以内に食事をしないと死ぬ。
# 食事には200ms、睡眠には200msかかる。各哲学者は7回食事をする。
./philo 5 800 200 200 7
```

## クリーンアップ

コンパイル時に生成されたオブジェクトファイルや実行ファイルを削除するには、以下のコマンドを実行します。

```bash
make fclean
```
